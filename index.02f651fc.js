const t=(t,e,a)=>{const s=document.createElement(t);return s.textContent=a||"",s.classList.add(e),s},e=[{question:"name of company",anwser:"SpaceX"},{question:"founder",anwser:"Elon Musk"},{question:"website",anwser:"https://www.spacex.com/"},{question:"employees",anwser:"8000 people"},{question:"headquarters",anwser:"city: Hawthorne, state: California"}];class a{constructor(e,a){this.chatbotStorage=e,this.chatbotApi=a,this.chatbotOpenButton=t("button","chatbotOpenButton"),this.chatbotCloseButton=t("button","chatbotCloseButton"),this.chatbotContainer=t("div","chatbotContainer"),this.messageContainer=t("div","msgArea")}createChatbot(){this.renderBotHeading(),this.renderMessageArea(),this.createInputField(),this.chatbotOpenButton.addEventListener("click",(()=>this.chatbotContainer.classList.add("open"))),this.chatbotCloseButton.addEventListener("click",(()=>this.chatbotContainer.classList.remove("open")));const t=(t=>{const e=document.querySelector(t);if(null===e)throw new Error(`${t} HTML element dosent exist`);return e})("body");t.appendChild(this.chatbotOpenButton),t.appendChild(this.chatbotContainer)}renderMessageArea(){this.chatbotContainer.appendChild(this.messageContainer)}renderBotHeading(){const e=t("div","headingOfBot"),a=t("div","welcomeHeader","rocket_Bot");e.appendChild(a),e.appendChild(this.chatbotCloseButton),this.chatbotContainer.appendChild(e)}createInputField(){const e=t("div","formContainer");this.chatbotContainer.appendChild(e);const a=t("form","form");e.appendChild(a);const s=t("label","label");a.appendChild(s);const n=t("input","input"),o=t("input","input");o.type="submit",o.value="";const i=t("div","buttons-container");e.appendChild(i);const r=t("button","cta-form","Clear");r.addEventListener("click",(()=>{this.chatbotStorage.removeMessagesFromStorage(),this.messageContainer.textContent="",this.createGreetings()}));const c=t("button","cta-form","Info launch");c.addEventListener("click",(()=>this.createMessage("List of commands:\n            1. @next - next launch\n            2. @latest - latest launch","bot"))),i.appendChild(r),i.appendChild(c),s.appendChild(n),a.appendChild(o),a.addEventListener("submit",(t=>this.logSubmit(t,n)))}createGreetings(){this.createMessage("Helllo in rocket_Bot! There are some info about SpaceX Corporation.","bot-welcome");const a=t("ul","list");this.messageContainer.appendChild(a),e.forEach((e=>{const s=t("li","list-element",e.question);a.appendChild(s),s.addEventListener("click",(()=>this.createMessage(e.anwser,"bot")))}))}createMessage(t,e){this.renderMessage(t,e),this.chatbotStorage.setMessageInStorage(t,e)}renderMessage(e,a){const s=t("div","message",e);s.classList.add(`message--${a}`),this.messageContainer.appendChild(s)}runCommand(t){switch(t){case"@next":this.createMessage("Loading data with next launch...","bot"),this.renderSpaceXData("next");break;case"@latest":this.createMessage("Loading data with latest launch...","bot"),this.renderSpaceXData("latest")}}logSubmit(t,e){if(t.preventDefault(),""===e.value)return;this.createMessage(e.value,"user");const a=e.value;this.runCommand(a),e.value=""}async renderSpaceXData(t){const e=await this.chatbotApi.getSpaceXData(t);this.createMessage(`${t} rocket launch:\n        rocket name: ${e.name}\n        launch date: ${e.date_utc}`,"bot")}}class s{constructor(){const t=localStorage.getItem("messages");this.messagesList=null===t?[]:JSON.parse(t)}setMessageInStorage(t,e){this.messagesList.push({value:t,type:e}),localStorage.setItem("messages",JSON.stringify(this.messagesList))}removeMessagesFromStorage(){this.messagesList.splice(0),localStorage.removeItem("messages")}}class n{async getSpaceXData(t){try{const e=await fetch(`https://api.spacexdata.com/v4/launches/${t}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(t){throw t}}}class o{constructor(){this.chatbotStorage=new s,this.chatbotApi=new n,this.chatbotRender=new a(this.chatbotStorage,this.chatbotApi),this.init()}init(){this.chatbotRender.createChatbot(),this.getMessageFromStorage(),this.chatbotRender.createGreetings()}getMessageFromStorage(){this.chatbotStorage.messagesList.forEach((t=>this.chatbotRender.renderMessage(t.value,t.type)))}}new class{constructor(){this.chatbotController=new o}};
//# sourceMappingURL=index.02f651fc.js.map
