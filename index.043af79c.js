const e=(e,t="null",s)=>{const a=document.createElement(e);return a.textContent=s||"",a.classList.add(t),a},t=new RegExp(/(@[a-z])\w+/,"g");class s{constructor(e,t){this.messagesList=e,this.messageContainer=t}setMessageInStorage(e,t){this.messagesList.push({value:e,type:t}),localStorage.setItem("messages",JSON.stringify(this.messagesList))}removeMessagesFromStorage(){this.messagesList.splice(0),localStorage.removeItem("messages"),this.messageContainer.textContent=""}}class a{async getSpaceXData(e){try{const t=await fetch(`https://api.spacexdata.com/v4/launches/${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(e){throw e}}}const n=[{question:"name of company",anwser:"SpaceX"},{question:"founder",anwser:"Elon Musk"},{question:"website",anwser:"https://www.spacex.com/"},{question:"employees",anwser:"8000 people"},{question:"headquarters",anwser:"city: Hawthorne, state: California"}];class o{constructor(t){this.chatbotOpenButton=e("button"),this.chatbotCloseButton=e("button"),this.chatbotContainer=e("div"),this.messageContainer=e("div","msgArea"),this.chatbotStorage=new s(t,this.messageContainer),this.chatbotApi=new a,this.messagesList=t,this.init()}init(){this.getMessageFromStorage(),this.createChatbot(),this.createGreetings()}createChatbot(){this.renderBotHeading(),this.renderMessageArea(),this.createInputField(),this.chatbotContainer.classList.add("chatbotContainer"),this.chatbotOpenButton.classList.add("chatbotOpenButton"),this.chatbotOpenButton.addEventListener("click",(()=>this.chatbotContainer.classList.add("open"))),this.chatbotCloseButton.addEventListener("click",(()=>this.chatbotContainer.classList.remove("open")));const e=(e=>{const t=document.querySelector(e);if(null===t)throw new Error(`${e} HTML element dosent exist`);return t})("body");e.appendChild(this.chatbotOpenButton),e.appendChild(this.chatbotContainer)}getMessageFromStorage(){this.messagesList.forEach((e=>this.renderMessage(e.value,e.type)))}createGreetings(){this.createMessage("Helllo in rocket_Bot! There are some info about SpaceX Corporation.","bot-welcome");const t=e("ul","list");this.messageContainer.appendChild(t),n.forEach((s=>{const a=e("li","list-element",s.question);t.appendChild(a),a.addEventListener("click",(()=>this.createMessage(s.anwser,"bot")))}))}renderMessageArea(){this.chatbotContainer.appendChild(this.messageContainer)}renderBotHeading(){const t=e("div","headingOfBot"),s=e("div","welcomeHeader","rocket_Bot");t.appendChild(s),t.appendChild(this.chatbotCloseButton),this.chatbotContainer.appendChild(t)}createInputField(){const t=e("div","formContainer");this.chatbotContainer.appendChild(t);const s=e("form");t.appendChild(s);const a=e("label");s.appendChild(a);const n=e("input"),o=e("input");o.type="submit",o.value="";const i=e("div","buttons-container");t.appendChild(i);const r=e("button","null","Clear");r.addEventListener("click",(()=>{this.chatbotStorage.removeMessagesFromStorage(),this.createGreetings()}));const c=e("button");c.textContent="Info launch",c.addEventListener("click",(()=>this.createMessage("List of commands:\n            1. @next - next launch\n            2. @latest - latest launch","bot"))),i.appendChild(r),i.appendChild(c),a.appendChild(n),s.appendChild(o),s.addEventListener("submit",(e=>this.logSubmit(e,n)))}logSubmit(e,t){if(e.preventDefault(),""===t.value)return;this.createMessage(t.value,"user");const s=t.value;this.runCommand(s),t.value=""}createMessage(e,t){this.renderMessage(e,t),this.chatbotStorage.setMessageInStorage(e,t)}renderMessage(t,s){const a=e("div","message",t);a.classList.add(`message--${s}`),this.messageContainer.appendChild(a)}runCommand(e){if(t.test(e))switch(this.createMessage("Loading data...","bot"),e){case"@next":this.renderSpaceXData("next");break;case"@latest":this.renderSpaceXData("latest");break;default:this.createMessage("Uncorrect command, please check -> Info launch","bot")}}async renderSpaceXData(e){const t=await this.chatbotApi.getSpaceXData(e);this.createMessage(`${e} rocket launch:\n        rocket name: ${t.name}\n        launch date: ${t.date_utc}`,"bot")}}new class{constructor(){const e=localStorage.getItem("messages");this.messagesList=null===e?[]:JSON.parse(e),this.chatbotController=new o(this.messagesList)}};
//# sourceMappingURL=index.043af79c.js.map
